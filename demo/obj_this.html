<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>obj this</title>
<link href="" rel="stylesheet">
</head>
<body>
<h4>
    <span>h4</span>
</h4>
</body>
<script>
var obj = {
	fun: function () {
		console.log(1, this);
		function run() {
			console.log(2, this);
		}
		run();
	}
};
obj.fun();

function run() {
	console.log(3, this);
}
run();

(function () {
	function fun() {
		console.log(4, this);
		function haha() {
			console.log(4.5, this);
		}
		// haha();
		// this.haha = haha;
		// window.haha = haha;
		function api (data) {
			console.log(data);
		}
		this.api = api;
	}
	fun();
	console.log(5, this);
	this.fun = fun;
	// window.fun = fun;
})();
// fun();

var f = new fun();
f.api(123);
// var g = new fun();
// g.api(456);
document.getElementsByTagName('h4')[0].onclick = function (e) {
	console.log(e);
    console.log('event', this);
};
</script>
</html>
